<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VR Club</title>
    <link rel="stylesheet" href="../web/css/styles.css">
    <script src="../web/js/slider.js" defer></script> <!-- –ü–æ–¥–∫–ª—é—á–∞–µ–º JS -->
</head>
<body>
    <!-- –®–∞–ø–∫–∞ -->
    <header>
        <div class="logo">
            <img src="../assets/logo.jpg" alt="VR Club Logo">
        </div>
        <div class="title">
            <h1>VR –∫–ª—É–± - –ü–æ–∫–æ–ª–µ–Ω–∏–µ Z</h1>
        </div>

        <div class="admin-login">
            <form enctype="multipart/form-data" method="post" action="/admin/login">
                <button type="submit">–í—Ö–æ–¥ –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞</button>
            </form>
        </div>

    </header>

    <!-- –û—Å–Ω–æ–≤–Ω–∞—è —á–∞—Å—Ç—å -->
    <main>
        <!-- –°–ª–∞–π–¥–µ—Ä —Ç–∞—Ä–∏—Ñ–æ–≤ -->
        <section class="tariff-slider">
            <h2>–ù–∞—à–∏ —Ç–∞—Ä–∏—Ñ—ã</h2>
            <div class="slider-wrapper">
                <button class="slider-btn prev">&lt;</button>
                <div class="slider-container">
                    {{ range .Tariffs }}
                    <div class="tariff-card">
                        <div class="tariff-header">
                            <h3>{{ .Name }}</h3>
                            <p class="tariff-price">{{ .Price }} —Ä—É–±.</p>
                        </div>
                        <ul class="tariff-features">
                            <li><strong>–ò–≥—Ä—ã:</strong></li>
                            {{ range .Games }}
                            <li>{{ .Name }} ({{ .Genre }})</li>
                            {{ end }}
                            <li><strong>–£—Å—Ç—Ä–æ–π—Å—Ç–≤–∞:</strong></li>
                            {{ range .Devices }}
                            <li>{{ .Name }} ({{ .Platform }})</li>
                            {{ end }}
                        </ul>
                        <button class="tariff-button" onclick="scrollToBooking()">–ó–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Å–µ–π—á–∞—Å</button>
                    </div>
                    {{ end }}
                </div>
                <button class="slider-btn next">&gt;</button>
            </div>
        </section>
    
        <!-- –§–æ—Ä–º–∞ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è -->
        <div class="booking-form">
            <h2>–ó–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Å–µ–∞–Ω—Å</h2>
            <form id="booking-form" method="post" action="/booking">
                <label for="tariff-select">–¢–∞—Ä–∏—Ñ:</label>
                <select id="tariff-select" name="tariff">
                    {{ range .Tariffs }}
                    <option value="{{ .Name }}">{{ .Name }} - {{ .Price }} —Ä—É–±.</option>
                    {{ end }}
                </select>
    
                <label for="name">–§–ò–û:</label>
                <input type="text" id="name" name="name" required>
    
                <label for="phone">–¢–µ–ª–µ—Ñ–æ–Ω:</label>
                <input type="tel" id="phone" name="phone" required>

                <label for="email">Email:</label>
                <input type="email" id="email" name="email" required>

                <label for="booking-date">–í—ã–±–µ—Ä–∏—Ç–µ –¥–∞—Ç—É:</label>
                <input type="date" id="booking-date" name="booking-date">

                <div id="available-times" style="display: none;">
                    <h3>–î–æ—Å—Ç—É–ø–Ω–æ–µ –≤—Ä–µ–º—è:</h3>
                    <div id="time-buttons"></div>
                    <button  type="button" id="cancel-selection">–û—Ç–º–µ–Ω–∏—Ç—å –≤—ã–±–æ—Ä</button>
                </div>

                <label for="subjects">–û–±—â–∏–µ –∏–≥—Ä—ã:</label>
                <div class="dropdown-container">
                    <button type="button" class="dropdown-button" onclick="toggleDropdown()">–í—ã–±–µ—Ä–∏—Ç–µ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ –∏–≥—Ä—ã –ø–æ –∂–µ–ª–∞–Ω–∏—é</button>
                    <div class="dropdown-list" id="dropdown-subjects">
                        {{range .Games}}
                        <label class="subject-label">
                            <input type="checkbox" name="subjects" value="{{.Id}}" class="subject-checkbox"> {{.Name}} - {{.Price}}
                        </label>
                        {{end}}
                    </div>
                </div>

                <script src="../web/js/calendar.js" defer></script>
                <script src="../web/js/ClearForm.js" defer></script>

                <script>
                 function toggleDropdown() {
                    var dropdown = document.getElementById("dropdown-subjects");
                    if (dropdown.style.display === "none" || dropdown.style.display === "") {
                        dropdown.style.display = "block";
                    } else {
                        dropdown.style.display = "none";
                    }
                }
        
                // –ó–∞–∫—Ä—ã—Ç–∏–µ –≤—ã–ø–∞–¥–∞—é—â–µ–≥–æ —Å–ø–∏—Å–∫–∞, –µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∫–ª–∏–∫–Ω—É–ª –≤–Ω–µ –µ–≥–æ –æ–±–ª–∞—Å—Ç–∏, –∫—Ä–æ–º–µ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ —Å–ø–∏—Å–∫–∞
                window.onclick = function(event) {
                    if (!event.target.matches('.dropdown-button') && !event.target.closest('.dropdown-list')) {
                        var dropdowns = document.getElementsByClassName("dropdown-list");
                        for (var i = 0; i < dropdowns.length; i++) {
                            var openDropdown = dropdowns[i];
                            if (openDropdown.style.display === "block") {
                                openDropdown.style.display = "none";
                            }
                        }
                    }
                }
                </script>
                <button class = "sub-bt" type="submit">–ó–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å</button>
            </form>
        </div>
    </main>
    

    <!-- –§—É—Ç–µ—Ä -->
    <footer>
        <div class="contacts">
            <p>üìû –¢–µ–ª–µ—Ñ–æ–Ω: +7 (999) 123-45-67</p>
            <p>üì¨ Email: info@vrclub.ru</p>
        </div>
        <div class="address">
            <p>üìç –ê–¥—Ä–µ—Å: —É–ª. –ü—Ä–∏–º–µ—Ä–Ω–∞—è, 1</p>
        </div>
    </footer>
</body>
</html>
